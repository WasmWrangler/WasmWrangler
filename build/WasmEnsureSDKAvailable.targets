<Project>
  <PropertyGroup>
    <WasmWranglerAssemblyFile>$(RepositoryRootDirectory)bin/$(Configuration)/WasmWrangler/netcoreapp3.1/WasmWrangler.dll</WasmWranglerAssemblyFile>
  </PropertyGroup>

  <Import Project="$(RepositoryRootDirectory)src/WasmWrangler/WasmWrangler.props" />
  <Import Project="$(RepositoryRootDirectory)src/WasmWrangler/WasmWrangler.targets" />
  
  <Target Name="EnsureWasmWranglerAssembly" BeforeTargets="WasmEnsureSDKAvailable">
    <Exec
      Condition="!Exists('$(WasmWranglerAssemblyFile)')"
      Command="dotnet build $(RepositoryRootDirectory)src/WasmWrangler/WasmWrangler.csproj -nologo -c $(Configuration)" />
  </Target>
</Project>
